<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PlugBot Universal</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b0b0b;
      --text: #ffffff;
      --accent: #ffffff;
      --card: #1a1a1a;
      --rounded: 16px;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      padding: 1rem;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow-x: hidden;
      position: relative;
      background: radial-gradient(circle at center, #0b0b0b, #050505);
    }
    .header { position: fixed; top: 20px; left: 20px; font-weight: 600; opacity: 0.8; }
    .avatar-bg { position: absolute; top: 20px; left: 50%; transform: translateX(-50%); pointer-events: none; }
    .avatar-bg img { width: 150px; }
    .interface { display: flex; flex-direction: column; align-items: center; max-width: 500px; margin: 0 auto; padding-top: 180px; gap: 1rem; }
    .chat-section { background: var(--card); border-radius: 24px; padding: 1.5rem; width: 100%; max-height: 70vh; overflow-y: auto; box-shadow: 0 0 20px rgba(255,255,255,0.1); }
    .msg-box { background: rgba(255,255,255,0.07); padding: 1rem; border-radius: var(--rounded); margin-bottom: 0.5rem; animation: bubbleIn 0.3s ease; }
    .user-msg { align-self: flex-end; background: rgba(255,255,255,0.15); }
    .bot-msg { align-self: flex-start; }
    .input-row { display: none; width: 100%; margin-top: 1rem; }
    input { width: 100%; padding: 1rem; border-radius: var(--rounded); border: none; background: #111; color: #fff; }
    .btn { padding: 1rem; width: 100%; border-radius: var(--rounded); border: 1px solid #fff; background: #000; color: #fff; font-weight: 700; cursor: pointer; transition: 0.3s ease; }
    .btn:hover { background: var(--text); color: var(--bg); }
    @keyframes bubbleIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
  </style>
</head>
<body>
  <div class="header">PlugBot Universal</div>
  <div class="avatar-bg">
    <img src="https://raw.githubusercontent.com/jacoblemire/plugbot-ai/main/PlugBot.png" alt="PlugBot Avatar">
  </div>
  <div class="interface">
    <div class="chat-section" id="chat"></div>
    <div class="input-row" id="inputRow">
      <input type="text" id="input" placeholder="Type here..." onkeydown="if(event.key==='Enter'){sendInput()}" />
    </div>
    <button class="btn" id="startBtn" onclick="startChat()">Start PlugBot</button>
  </div>

<script>
const chat = document.getElementById('chat');
const inputRow = document.getElementById('inputRow');
const input = document.getElementById('input');
const startBtn = document.getElementById('startBtn');
let step = 0;
let userName = '';
let userAge = 0;

const flow = [
  "Hi there, I'm PlugBot. Ready to see if this opportunity is the right fit for you?",
  "Great! What's your name?",
  "Nice to meet you! How old are you?",
  "Have you ever worked online or been part of a program like this before?",
  "Have you invested in coaching or mentorship before, or is this your first time?",
  "What specifically about this offer caught your interest? (growth, freedom, income, etc.)",
  "How much are you currently making per month?",
  "How much would you like to make?",
  "Are you currently working toward a savings or financial goal?",
  "How much do you currently have available or in credit to put toward your goals?"
];

function appendMessage(msg, isUser = false) {
  const msgBox = document.createElement('div');
  msgBox.className = 'msg-box ' + (isUser ? 'user-msg' : 'bot-msg');
  msgBox.innerText = msg;
  chat.appendChild(msgBox);
  chat.scrollTop = chat.scrollHeight;
}

function startChat() {
  startBtn.style.display = 'none';
  inputRow.style.display = 'block';
  appendMessage(flow[step]);
}

function sendInput() {
  const userInput = input.value.trim();
  if (!userInput) return;
  appendMessage(userInput, true);
  input.value = '';

  setTimeout(() => {
    if (step === 1) userName = userInput;
    if (step === 2) userAge = parseInt(userInput);

    if (step === 0) {
      appendMessage("Great! Let's get started.");
    } else if (step === 1) {
      appendMessage(`Nice to meet you, ${userName}!`);
    } else if (step === 2) {
      if (userAge < 17) {
        appendMessage("We currently only accept applicants 17 or older, but we love your ambition. Check out these resources to prepare for the future.");
        inputRow.style.display = 'none';
        return;
      } else {
        appendMessage("Awesome, let's keep going!");
      }
    }
    
    step++;
    if (step < flow.length) {
      appendMessage(flow[step]);
    } else {
      determineScenario();
    }
  }, 600);
}

function determineScenario() {
  appendMessage("Thanks for sharing everything! Based on your responses, we'll tailor the next steps just for you.");

  setTimeout(() => {
    appendMessage("âœ… Placeholder: Insert your custom booking + payment links here during client setup.");
    inputRow.style.display = 'none';
  }, 1000);
}
</script>
</body>
</html>
