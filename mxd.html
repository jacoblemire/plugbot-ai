<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PlugBot V4 | MXD Enterprises</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
  <style>
    :root {
      --bg: #0b0b0b;
      --text: #ffffff;
      --accent: #ffffff;
      --card: #1a1a1a;
      --rounded: 16px;
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      padding: 1rem;
      position: relative;
    }
    .header {
      position: fixed;
      top: 20px;
      left: 20px;
      color: #fff;
      font-weight: 600;
      font-size: 1rem;
      opacity: 0.8;
      z-index: 1000;
    }
    .avatar-bg {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 0;
      pointer-events: none;
      animation: floatBot 4s ease-in-out infinite, glowPulse 3s ease-in-out infinite;
    }
    .avatar-bg img {
      width: 150px;
    }
    .interface {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 1.5rem;
      width: 100%;
      max-width: 480px;
      margin: 0 auto;
      padding-top: 200px;
      z-index: 2;
      position: relative;
    }
    .chat-section {
      background: var(--card);
      border-radius: 24px;
      padding: 1.5rem;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      max-height: 70vh;
      overflow-y: auto;
      scroll-behavior: smooth;
    }
    .msg-box {
      background: rgba(255, 255, 255, 0.07);
      padding: 0.9rem 1.1rem;
      border-radius: var(--rounded);
      font-size: 0.95rem;
      line-height: 1.4;
      text-align: left;
      animation: fadeIn 0.3s ease;
    }
    .input-row {
      display: none;
      flex-direction: column;
      gap: 0.75rem;
    }
    input {
      padding: 1rem;
      border-radius: var(--rounded);
      border: none;
      background: #111;
      color: #fff;
      font-size: 1rem;
    }
    .btn {
      background: #000;
      color: #fff;
      font-weight: 700;
      border: 1px solid #fff;
      border-radius: var(--rounded);
      padding: 1rem;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s ease;
      text-align: center;
      width: 100%;
    }
    .btn:hover {
      background: #fff;
      color: #000;
    }
    .typing {
      font-style: italic;
      opacity: 0.7;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes floatBot {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
      100% { transform: translateY(0px); }
    }
    @keyframes glowPulse {
      0%, 100% { filter: drop-shadow(0 0 0px #ffffff); }
      50% { filter: drop-shadow(0 0 12px #ffffff); }
    }
  </style>
</head>
<body>
  <div class="header">MXD Enterprises</div>
  <div class="avatar-bg"><img src="https://raw.githubusercontent.com/jacoblemire/plugbot-ai/main/PlugBot.png" alt="PlugBot"></div>
  <div class="interface">
    <div class="chat-section" id="chat">
      <div class="msg-box"><strong>Get Qualified for MXD Sales Academy</strong></div>
      <div class="msg-box">Learn how to earn $3K–$10K/month remotely through high-ticket sales — even if you’ve never done this before.</div>
      <div id="startInfo" style="display:none">
        <div class="msg-box">We’ll ask a few quick questions to see if this is a fit. Be real — and if you’re serious, don’t leave anything blank.</div>
      </div>
      <div class="input-row" id="inputRow">
        <input type="text" id="input" placeholder="Type here..." onkeydown="if(event.key==='Enter'){sendInput()}" />
      </div>
      <button class="btn" id="startBtn" onclick="startChat()">GET QUALIFIED</button>
    </div>
  </div>
<script>
window.addEventListener('DOMContentLoaded', () => {
const input = document.getElementById("input");
const chat = document.getElementById("chat");
const inputRow = document.getElementById("inputRow");
const startBtn = document.getElementById("startBtn");
const startInfo = document.getElementById("startInfo");

startBtn.onclick = startChat;

const prompts = [
  "First up — what’s your name?",
  "How old are you right now?",
  "Where are you based currently?",
  "What’s your current monthly income?",
  "Do you have any savings to work with if this feels aligned?",
  "Real talk — why are you looking to make remote income?",
  "Ever tried remote work or online sales before?",
  "What’s the dream monthly income that’d feel like freedom to you?",
  "Drop your email — I’ll send over the next steps:",
  "And last one — what’s the best phone number in case we need to follow up?"
];

const fields = ["name", "age", "location", "income", "savings", "reason", "experience", "goal", "email", "phone"];
const responses = {
  name: val => `Nice to meet you, ${val}.`,
  age: val => parseInt(val) < 20 ? "Young & hungry — let’s build." : "Solid — maturity helps in this game.",
  location: val => `Got it. We’ve got people crushing it from ${val}.\`,
  income: () => `Thanks — that gives us a starting point.\`,
  savings: () => `Respect for stacking.\`,
  reason: () => `That’s real. You're not alone.\`,
  experience: () => `Noted. Whether you’ve done this or not, we teach it from scratch.\`,
  goal: val => `🔥 $${val}/month — let’s aim for that and more.\`,
  email: () => `Email locked in.\`,
  phone: () => `Phone saved. You’re almost there.`
};

let step = -1, data = {}, spamCount = 0, conversationEnded = false, userName = "";

function delay(ms) { return new Promise(res => setTimeout(res, ms)); }

function appendMsg(text, typing = false) {
  const box = document.createElement("div");
  box.className = typing ? "msg-box typing" : "msg-box";
  box.innerText = text;
  chat.insertBefore(box, inputRow);
  chat.scrollTop = chat.scrollHeight;
}

function isSpam(val) {
  return /^[^a-zA-Z0-9]+$/.test(val) || val.length < 2;
}

async function startChat() {
  startBtn.style.display = "none";
  inputRow.style.display = "flex";
  startInfo.style.display = "block";
  step = 0;
  await delay(500);
  appendMsg(prompts[step], true);
}

async function sendInput() {
  const val = input.value.trim();
  if (!val || step === -1 || conversationEnded) return;

  appendMsg(val);
  input.value = "";

  if (isSpam(val)) {
    spamCount++;
    if (spamCount >= 2) {
      appendMsg("Looks like this isn’t the right time. Come back when you’re ready to get real. PlugBot out.");
      conversationEnded = true;
      return;
    }
  }

  const field = fields[step];
  data[field] = val;
  if (field === "name") userName = val;

  step++;
  if (step < prompts.length) {
    await delay(800);
    appendMsg(responses[field](val));
    await delay(1000);
    appendMsg(prompts[step], true);
  } else {
    const age = parseInt(data.age);
    const savings = data.savings.toLowerCase();
    const qualified = age >= 17 && /yes|some|little|bit|for sure|of course|yeah/i.test(savings);

    await delay(1000);

    if (!qualified) {
      appendMsg("Appreciate your honesty. Based on what you shared, this might not be the right time.");
      await delay(800);
      appendMsg("Start with our free course and come back when you're ready to go all in:");
      const link = document.createElement("a");
      link.href = "https://mxdenterprises.com/free-course.html";
      link.innerText = "Watch Free Course";
      link.target = "_blank";
      link.className = "btn";
      chat.appendChild(link);
    } else {
      appendMsg(`✅ You're aligned${userName ? ", " + userName : ""}.`);
      await delay(800);
      appendMsg("This is a rare opportunity to speak 1-on-1 with an MXD executive.");
      await delay(1000);
      appendMsg("⚠️ This isn’t a sales pitch. Come prepared, show up sharp, and take notes.");
      await delay(1000);
      appendMsg("👇 Lock in your call below:");
      await delay(600);
      appendMsg("✨ Start your journey to earning remote income.");

      confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6 }
      });

      const link = document.createElement("a");
      link.href = "https://calendly.com/jadafig1";
      link.innerText = "🎉 Book Your Call";
      link.target = "_blank";
      link.className = "btn reward-button";
      chat.appendChild(link);

      fetch("https://plugbot.replit.app/plugbot", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ history: Object.entries(data).map(([key, value]) => ({ role: 'user', content: `${key}: ${value}` })) })
      });
    }
  }
}
});
</script>
</body>
</html>
