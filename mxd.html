<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MXD Assistant</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b0b0b;
      --text: #ffffff;
      --accent: #3a7bfd;
      --card: #1a1a1a;
      --rounded: 16px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background-color: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 1rem;
    }

    .interface {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 1.5rem;
      width: 100%;
      max-width: 480px;
    }

    .chat-section {
      background: var(--card);
      border-radius: 24px;
      padding: 1.5rem;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      max-height: 70vh;
      overflow-y: auto;
      scroll-behavior: smooth;
    }

    .msg-box {
      background: rgba(255, 255, 255, 0.07);
      padding: 0.9rem 1.1rem;
      border-radius: var(--rounded);
      font-size: 0.95rem;
      line-height: 1.4;
      text-align: left;
    }

    .input-row {
      display: none;
      flex-direction: column;
      gap: 0.75rem;
    }

    input {
      padding: 1rem;
      border-radius: var(--rounded);
      border: none;
      background: #111;
      color: #fff;
      font-size: 1rem;
    }

    .btn {
      background: #000;
      color: #fff;
      font-weight: 700;
      border: 1px solid #fff;
      border-radius: var(--rounded);
      padding: 1rem;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s ease;
      text-align: center;
      width: 100%;
    }

    .btn:hover {
      background: #fff;
      color: #000;
    }

    .avatar {
      width: 100%;
      max-width: 260px;
      height: auto;
      animation: bounceIn 1s ease, glowPulse 2.5s ease-in-out infinite;
      transition: transform 0.3s ease;
    }

    .avatar:hover {
      transform: translateY(-6px) rotate(-1deg);
    }

    @keyframes bounceIn {
      0% { opacity: 0; transform: scale(0.8) translateY(20px); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }

    @keyframes glowPulse {
      0%, 100% { filter: drop-shadow(0 0 0px var(--accent)); }
      50% { filter: drop-shadow(0 0 12px var(--accent)); }
    }

    @media (min-width: 768px) {
      .interface {
        flex-direction: row;
        align-items: flex-end;
        justify-content: center;
        gap: 2rem;
        max-width: 960px;
      }

      .btn {
        width: auto;
      }
    }
  </style>
</head>
<body>
  <div class="interface">
    <div class="chat-section" id="chat">
      <div class="msg-box"><strong>Get Qualified for MXD Sales Academy</strong></div>
      <div class="msg-box">Learn how to earn $3K–$10K/month remotely through high-ticket sales — even if you’ve never done this before.</div>
      <div class="msg-box">We’ll ask a few quick questions to see if this is a fit. Be real with your answers — and if you’re serious, don’t leave anything blank.</div>
      <div class="msg-box">
        <a href="https://mxdenterprises.com/free-course.html" target="_blank" style="color:#fff; text-decoration:underline;">Not sure yet? Watch the free breakdown first.</a>
      </div>
      <div class="input-row" id="inputRow">
        <input type="text" id="input" placeholder="Type here...">
      </div>
      <button class="btn" id="startBtn" onclick="startChat()">GET QUALIFIED</button>
    </div>
    <img src="https://jacoblemire.github.io/plugbot-ai/plugbot.png" alt="Mixed Bot" class="avatar">
  </div>

  <script>
    const input = document.getElementById("input");
    const chatSection = document.getElementById("chat");
    const startBtn = document.getElementById("startBtn");
    const inputRow = document.getElementById("inputRow");

    let step = -1;
    const data = {};
    let userName = "";
    let hasName = false;
    let spamCount = 0;
    let conversationEnded = false;

    const prompts = [
      "First up — what’s your name?",
      "How old are you right now?",
      "Where are you based currently?",
      "What’s your current monthly income?",
      "Do you have any savings to work with if this feels aligned?",
      "Got it. Real talk — why are you even looking to make remote income?",
      "Let’s keep this moving. Ever tried remote work or online sales before?",
      "Okay. What’s the dream monthly income that’d feel like freedom to you?",
      "Almost done. Drop your email — I’ll send over the next steps:",
      "And last one — what’s the best phone number in case we need to follow up?"
    ];

    const fields = ["name", "age", "location", "income", "savings", "reason", "experience", "goal", "email", "phone"];

    function appendMsg(text) {
      const msg = document.createElement("div");
      msg.className = "msg-box";
      msg.innerText = text;
      chatSection.insertBefore(msg, inputRow);
      chatSection.scrollTop = chatSection.scrollHeight;
    }

    function isSpam(input) {
      return input.length < 3 || [/^\W+$/, /^(yo|hi|ok|why|idk)$/i].some(r => r.test(input));
    }

    function delay(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function startChat() {
      startBtn.style.display = "none";
      inputRow.style.display = "flex";
      step = 0;
      await delay(500);
      appendMsg(prompts[step]);
    }

    async function sendInput() {
      const val = input.value.trim();
      if (!val || step === -1 || conversationEnded) return;

      if (isSpam(val)) {
        spamCount++;
        if (spamCount >= 2) {
          appendMsg("If you’re not taking this seriously, let’s end this convo. Come back when you're ready to get qualified.");
          conversationEnded = true;
          return;
        }
      }

      appendMsg(val);
      const field = fields[step];
      data[field] = val;
      input.value = "";

      if (field === "name") {
        userName = val;
        hasName = true;
      }

      step++;
      if (step < prompts.length) {
        await delay(1000);
        appendMsg(prompts[step]);
      } else {
        const age = parseInt(data.age);
        const income = parseInt(data.income);
        const savingsInput = data.savings.toLowerCase();
        const savingsAmount = parseInt(savingsInput.replace(/[^0-9]/g, ''));

        const lowAge = isNaN(age) || age < 17;
        const lowSavings = isNaN(savingsAmount) || savingsAmount < 500;
        const noIncome = isNaN(income) || income === 0;

        const disqualified = lowAge || (lowSavings && noIncome);

        await delay(800);
        if (disqualified) {
          appendMsg("Appreciate your honesty. Based on what you shared, this might not be the right time — but keep growing and check back when you're more ready.");
        } else {
          appendMsg(`✅ You're aligned${hasName ? ", " + userName : ""}.`);
          await delay(800);
          appendMsg("This is a rare opportunity to speak 1-on-1 with an MXD executive.");
          await delay(1000);
          appendMsg("⚠️ Please come prepared — this isn’t a sales pitch. We expect you to show up on time, look sharp, and take notes.");
          await delay(1000);
          appendMsg("👇 If that’s you, lock in your call now:");

          const link = document.createElement("a");
          link.href = "https://calendly.com/jadafig1";
          link.innerText = "Book Your Call";
          link.target = "_blank";
          link.className = "btn";
          chatSection.appendChild(link);
          chatSection.scrollTop = chatSection.scrollHeight;

          fetch("https://hook.us2.make.com/y1tdeyvxp8gqtaifqsthdpiwayas40fp", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              source: "PlugBot: MXD Sales Page",
              timestamp: new Date().toISOString(),
              ...data
            })
          });
        }
      }
    }

    input.addEventListener("keydown", function(e) {
      if (e.key === "Enter") sendInput();
    });
  </script>
</body>
</html>
